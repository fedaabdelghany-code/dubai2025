/*
 * App Global CSS
 * ----------------------------------------------------------------------------
 * Put style rules here that you want to apply globally. These styles are for
 * the entire app and not just one component. Additionally, this file can be
 * used as an entry point to import other CSS/Sass files to be included in the
 * output CSS.
 * For more information on global stylesheets, visit the documentation:
 * https://ionicframework.com/docs/layout/global-stylesheets
 */

/* =========================================
   ✅ CORE IONIC STYLES
   ========================================= */
@import "@ionic/angular/css/core.css";
@import "@ionic/angular/css/normalize.css";
@import "@ionic/angular/css/structure.css";
@import "@ionic/angular/css/typography.css";
@import "@ionic/angular/css/display.css";

/* Optional utilities */
@import "@ionic/angular/css/padding.css";
@import "@ionic/angular/css/float-elements.css";
@import "@ionic/angular/css/text-alignment.css";
@import "@ionic/angular/css/text-transformation.css";
@import "@ionic/angular/css/flex-utils.css";

/* Dark Mode (system preferred) */
@import "@ionic/angular/css/palettes/dark.system.css";

/* =========================================
   ✅ GLOBAL IONIC ELEMENT FIXES
   ========================================= */

/* Ensures inputs render properly on all devices and builds */
ion-item,
ion-input,
ion-label {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  color: #1d4370 !important;
}

ion-input::part(native),
input {
  color: #1d4370 !important;
  opacity: 1 !important;
}

ion-item {
  --background: #f1f9ff !important;
  --highlight-color-focused: #00a9e0 !important;
  border-radius: 0.75rem !important;
}

/* =========================================
   ✅ TOAST STYLES (Unified)
   ========================================= */
.toast-success {
  --background: #28a745;
  --color: #fff;
}

.toast-error {
  --background: #dc3545;
  --color: #fff;
}

.toast-warning {
  --background: #ffc107;
  --color: #000;
}

.toast-info {
  --background: #007bff;
  --color: #fff;
}

/* =========================================
   ✅ MODERN SPINNER OVERLAY
   ========================================= */
.spinner-only {
  --backdrop-color: #ffffff;
  --backdrop-opacity: 0.6;
  --background: transparent;
  --spinner-color: #ffffff;

  backdrop-filter: blur(3px);
  animation: fadeIn 0.3s ease-in-out;

  .loading-wrapper {
    background: transparent !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
  }

  ion-spinner {
    width: 64px;
    height: 64px;
    color: var(--spinner-color);
    filter: drop-shadow(0 4px 12px rgba(0, 169, 224, 0.3));
    animation: smoothSpin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
  }
}

.spinner-only::part(content),
.spinner-only::part(inner) {
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/* Animations */
@keyframes smoothSpin {
  0% {
    transform: rotate(0deg);
    opacity: 0.8;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: rotate(360deg);
    opacity: 0.8;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  to {
    opacity: 1;
    backdrop-filter: blur(3px);
  }
}

/* =========================================
   ✅ COUNTRY FLAGS
   ========================================= */
.fi {
  background-size: contain;
  background-position: 50%;
  background-repeat: no-repeat;
  position: relative;
  display: inline-block;
  width: 1.33333em;
  line-height: 1em;
}

.fi-eg {
  background-image: url('/flags/4x3/eg.svg');
}

/* =========================================
   ✅ TAB BAR STYLES
   ========================================= */
ion-tab-bar {
  --background: #ffffff;
  --color: #6b7280;
  --color-selected: #1d4370;
  --border: none;
  border-top: 1px solid #e5e7eb;
}

ion-tab-button {
  font-weight: 500;

  ion-icon {
    font-size: 1.4rem;
  }

  &.tab-selected ion-icon {
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }
}
/* =========================================
   ✅ CRITICAL: Production Input Fix
   ========================================= */
ion-input {
  display: block !important;
  min-height: 40px !important;
  --padding-top: 10px !important;
  --padding-bottom: 10px !important;
  
  &::part(native) {
    min-height: 40px !important;
    opacity: 1 !important;
    visibility: visible !important;
    color: #1d4370 !important;
    padding: 10px 0 !important;
    display: block !important;
  }
}

ion-item {
  display: block !important;
  min-height: 56px !important;
  --min-height: 56px !important;
  opacity: 1 !important;
  visibility: visible !important;
}

ion-label {
  display: block !important;
  opacity: 1 !important;
  visibility : visible !important;
  color: #1d4370 !important;
}

// Add this to your global.scss or theme/variables.scss file

// Force light mode for entire app
:root {
  color-scheme: light !important;
}

// Override Ionic's dark mode variables
body {
  --ion-background-color: #ffffff !important;
  --ion-background-color-rgb: 255, 255, 255 !important;
  
  --ion-text-color: #000000 !important;
  --ion-text-color-rgb: 0, 0, 0 !important;
  
  --ion-color-step-50: #f2f2f2 !important;
  --ion-color-step-100: #e6e6e6 !important;
  --ion-color-step-150: #d9d9d9 !important;
  --ion-color-step-200: #cccccc !important;
  --ion-color-step-250: #bfbfbf !important;
  --ion-color-step-300: #b3b3b3 !important;
  --ion-color-step-350: #a6a6a6 !important;
  --ion-color-step-400: #999999 !important;
  --ion-color-step-450: #8c8c8c !important;
  --ion-color-step-500: #808080 !important;
  --ion-color-step-550: #737373 !important;
  --ion-color-step-600: #666666 !important;
  --ion-color-step-650: #595959 !important;
  --ion-color-step-700: #4d4d4d !important;
  --ion-color-step-750: #404040 !important;
  --ion-color-step-800: #333333 !important;
  --ion-color-step-850: #262626 !important;
  --ion-color-step-900: #191919 !important;
  --ion-color-step-950: #0d0d0d !important;

  // Card and item backgrounds
  --ion-item-background: #ffffff !important;
  --ion-card-background: #ffffff !important;
  --ion-toolbar-background: #ffffff !important;
}

// Force white background on all pages
ion-content {
  --background: #ffffff !important;
}

// Ensure all modals and overlays are light
ion-modal,
ion-popover,
ion-alert,
ion-action-sheet,
ion-loading,
ion-toast {
  --background: #ffffff !important;
  --ion-background-color: #ffffff !important;
}

// Override any dark mode media queries
@media (prefers-color-scheme: dark) {
  body {
    --ion-background-color: #ffffff !important;
    --ion-background-color-rgb: 255, 255, 255 !important;
    --ion-text-color: #000000 !important;
    --ion-text-color-rgb: 0, 0, 0 !important;
  }

  ion-content {
    --background: #ffffff !important;
  }

  // Ensure toolbars and headers stay light
  ion-toolbar,
  ion-header {
    --background: #ffffff !important;
  }

  // Cards and items
  ion-card,
  ion-item {
    --background: #ffffff !important;
  }
}

ion-tab-bar {
  --background: #ffffff;
  --border: 1px solid #e5e7eb;
  box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.05);
  height: 68px; // ⬆️ slightly taller for mobile touch targets
  padding-bottom: env(safe-area-inset-bottom);
}

ion-tab-button {
  --color: #6b7280;
  --color-selected: #1D4370;
  --ripple-color: rgba(0, 169, 224, 0.15);
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-weight: 600;
  transition: all 0.2s ease;

  ion-icon {
    font-size: 1.5rem; // ⬆️ larger default icon size for mobile
    margin-bottom: 0.2rem;
    transition: transform 0.2s ease;
  }

  ion-label {
    font-size: 0.85rem; // ⬆️ slightly larger text
    letter-spacing: 0.01rem;
  }

  &.tab-selected {
    ion-icon {
      transform: scale(1.1);
      color: #1D4370;
    }

    ion-label {
      color: #1D4370;
    }
  }

  @media (min-width: 480px) {
    ion-icon {
      font-size: 1.6rem;
    }
    ion-label {
      font-size: 0.8rem;
    }
  }

  @media (min-width: 768px) {
    ion-icon {
      font-size: 1.4rem;
    }
    ion-label {
      font-size: 0.75rem;
    }
    height: 60px; // slightly shorter for desktop
  }
}

.full-screen-modal .modal-wrapper {
  height: 100% !important;
  width: 100% !important;
  border-radius: 0 !important;
}

ion-fab-button {
  display: flex !important;
  visibility: visible !important;
}


// FAB Button - Global Styles (REQUIRED for PWA)
ion-fab-button {
  --background: #0a2a5a !important;
  --background-activated: #082243 !important;
  --color: white !important;
  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
  --border-radius: 50% !important;
  
  width: 56px !important;
  height: 56px !important;
}

ion-fab-button::part(native) {
  background-color: #0a2a5a !important;
  color: white !important;
  border-radius: 50% !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3) !important;
}