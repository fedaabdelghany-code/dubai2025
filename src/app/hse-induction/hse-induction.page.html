<ion-content class="hse-content light-mode">
  <!-- Gradient Header -->
  <div class="header-gradient">
    <!-- Optional decorative overlay image -->
    <!-- <img src="assets/holcim-pattern.svg" class="header-overlay" alt="" /> -->
    
    <div class="header-content">
      <div class="header-left">
        <h1 class="header-title">HSE Induction</h1>
        <p class="header-subtitle">Safety Training Video</p>
      </div>
      <ion-button class="close-btn" fill="clear" (click)="goHome()">
        <ion-icon name="close-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </div>
  </div>

  <!-- Content Wrapper -->
  <div class="content-wrapper">
    <!-- Video Section -->
    <div class="video-container">
      <video
        #hseVideo
        preload="metadata"
        controls
        playsinline
        (timeupdate)="onTimeUpdate()"
        (ended)="onVideoEnded()"
        (seeking)="onSeekAttempt()"
      >
        <source src="assets/demo1.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <!-- Status Card -->
    <div class="status-card">
      <!-- Status Badge -->
      <div class="status-badge" [class.in-progress]="!isComplete" [class.complete]="isComplete">
        <ion-icon [name]="isComplete ? 'checkmark-circle' : 'time-outline'"></ion-icon>
        <span>{{ isComplete ? 'Completed' : 'In Progress' }}</span>
      </div>

      <!-- Status Message -->
      <div class="status-message">
        <h3 *ngIf="!isComplete">Watch the Complete Video</h3>
        <h3 *ngIf="isComplete">Training Complete!</h3>
        <p *ngIf="!isComplete">
          Please watch the entire safety induction video. Fast-forwarding is disabled to ensure you receive all important safety information.
        </p>
        <p *ngIf="isComplete">
          Great job! You've completed the HSE induction training. You can now proceed with your site access.
        </p>
      </div>

      <!-- Progress Bar -->
      <div class="progress-section" *ngIf="!isComplete">
        <div class="progress-label">
          <span>Progress</span>
          <span>{{watchProgress}}%</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" [style.width.%]="watchProgress"></div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-button">
      <ion-button 
        expand="block" 
        class="primary-btn" 
        [disabled]="!isComplete" 
        (click)="markComplete()">
        <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
        Mark Complete & Continue
      </ion-button>
    </div>

    <div class="spacer"></div>
  </div>
</ion-content>