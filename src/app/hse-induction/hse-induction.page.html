<ion-content class="hse-content light-mode">
  <!-- Simplified Larger Header -->
  <div class="header-bar">
    <div class="header-title">HSE Induction</div>
    <ion-button class="close-btn" fill="clear" (click)="goHome()">
      <ion-icon name="close-outline"></ion-icon>
    </ion-button>
  </div>

  <!-- Video Section -->
  <div class="video-section">
    <video
      #hseVideo
      preload="metadata"
      controls
      playsinline
      (timeupdate)="onTimeUpdate()"
      (ended)="onVideoEnded()"
      (seeking)="onSeekAttempt()"
    >
      <source src="assets/demo1.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
  </div>

  <!-- Information Card -->
  <div class="info-card">
    <div class="info-header">
      <ion-icon name="shield-checkmark-outline" class="shield-icon"></ion-icon>
      <div>
        <h2 class="info-title">Safety First</h2>
        <p class="info-subtitle">Please watch the full induction video.</p>
      </div>
    </div>

    <div class="status-message" [class.complete]="isComplete">
      <ion-icon
        [name]="isComplete ? 'checkmark-circle' : 'information-circle'"
        class="status-icon"
      ></ion-icon>
      <p *ngIf="!isComplete">Please watch the entire video. You cannot skip ahead.</p>
      <p *ngIf="isComplete"><strong>Induction Complete!</strong> Youâ€™re ready to proceed.</p>
    </div>

    <!-- Simple Progress Bar -->
    <div class="progress-bar" *ngIf="!isComplete">
      <div class="progress-track">
        <div class="progress-fill" [style.width.%]="watchProgress"></div>
      </div>
      <span class="progress-label">{{watchProgress}}% completed</span>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="actions">
    <ion-button expand="block" class="primary-btn" [disabled]="!isComplete" (click)="markComplete()">
      <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
      Mark Complete & Continue
    </ion-button>

    <ion-button expand="block" fill="clear" class="secondary-btn" (click)="goHome()">
      Exit to Home
    </ion-button>
  </div>

  <!-- Key Points Section -->
  <div class="key-points" *ngIf="isComplete">
    <h3 class="key-points-title">Remember These Key Points:</h3>
    <div class="point-item">
      <ion-icon name="alert-circle-outline"></ion-icon>
      <span>Always wear appropriate PPE</span>
    </div>
    <div class="point-item">
      <ion-icon name="people-outline"></ion-icon>
      <span>Report hazards immediately</span>
    </div>
    <div class="point-item">
      <ion-icon name="checkmark-done-outline"></ion-icon>
      <span>Follow all safety procedures</span>
    </div>
  </div>
</ion-content>
